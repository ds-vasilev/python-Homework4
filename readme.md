Вы участвуете в опенсорсном проекте по созданию библиотеки "rucola".

В вижне проекта описано что он должен представлять собой устанавливаемый пакет с декоратором для повторного выполнения функции и централизованного сбора исключений.

Предполагается что его будут использовать для функций скрапинга данных с сайтов или для нагрузочного тестирования, так что повторные запросы и сбор исключений общим скопом там может пригодиться.



С общей доски в jira вы взяли следующий тикеты

1 - нписать декоратор `blossom` который будет повторять укананную функцию до `max_retries` раз - пока не равершится без исключений, либо пока не превысит число `max_retries` + форматирует результат исполнения

2 - Написать устанавливаемый пакет rucola с этими декораторами.



```python3

import requests

from rucola import blossom



@blossom(max_retries=3) # Сохраняет все отловленные исключения, прогоняя функцию до трёх раз

def get_page_content(url):

    resp = requests.get(url)

    return resp.content



content_with_retry = get_page_content("http://very_fake_address.com")

print(content_with_retry)

"""

Ожидаемый вывод:

{

"get_page_content" : {

    "is_success" : False,

    "run" : [

            {"exception" : "ConnectionError",

             "return" : None},

             {"exception" : "ConnectionError",

             "return" : None},

             {"exception" : "ConnectionError",

             "return" : None}

        ]

    }

}

"""



content_with_no_retry = get_page_content("https://httpbin.org/get")

print(content_with_retry)

"""

Ожидаемый вывод:

{

"get_page_content" : {

    "is_success" : True,

    "run" : [

            {"exception" : None,

             "return" : b'{\n  "args": {}, \n  "headers": {\n    "Accept": "*/*", \n    "Accept-Encoding": "gzip, deflate", \n    "Host": "httpbin.org", \n    "User-Agent": "python-requests/2.27.1", \n    "X-Amzn-Trace-Id": "Root=1-622c4608-01234567890asdg1241412"\n  }, \n  "origin": "0.0.0.0", \n  "url": "https://httpbin.org/get"\n}\n}

        ]

    }

}

"""

```



Напишите устанавливаемый пакет по следующим требованиям:



## Требования
    - пакет устанавливаемый (`python3 setup.py install`)

    - декоратор blossom имеет один необязательный параметр `max_retries` - максимальное количество запусков функции

        - По умолчанию значение параметра равно 1

        - Если значение параметра - не целое число или целое число но меньшее 1 - выбросить ConfigurationError - исключение написать самостоятельно.

    - Форматирование результата:

        - корневой ключ - название оригинальной функции

            - is_success (bool) - с успехом ли в конечном итоге завершилась функция

            - run (list) - список запусков функции

                - exception - класс исключения (если вызвалось в этом запуске) или None

                - return - результат возвращенный функцией или None

    - Имеется хотя бы один позитивный юнит-тест (для функции завершившейся с успехом)

    - Имеется хотя бы один негативный юнит-тест (для функции не завершившейся с успехом ни разу)

    - Имеется tox вызывающий все проверки качества кода и юнит-тесты

## Не разрешается
    - Списывать у других студентов

## Требования к качеству кода
    - проверка формата, любым инструментом

    - проверка аннотаций, mypy

    - Если в проекте используются сторонние библиотеки — они все указаны в файле requirements.txt вместе с версиями

## Рекомендации
    - используйте заготовки под устанавливаемые пакеты из интернета - будет меньше проблем с настройкой проекта